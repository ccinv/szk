# 信心赛III (syh and sfc)

评测开启`-O2`

# lalala(1s/256MB)

本题是《生意人的生意经之自动驾驶》的课后习题，某同学不会做，他找到了你。

给出一棵有 $n$ 个节点的树，要求你把树上的边定向，使树变成一个有向图，使得给出的 $k$ 对点联通，求方案总数。

### 输入格式

一行两个数，$n$ 和 $k$，如题面所述

然后是 $n-1$ 行，表示这棵树。

接下来输入 $k$ 行，每行两个数 $a$ 和 $b$，代表需要联通的两个点，这里的联通代表了 $a$ 要能走到 $b$ 或者 $b$ 要能走到 $a$ 。

### 输出格式

一行一个数代表方案总数，对 $1000000007$ 取模。

### 样例输入

```
7 2
1 2
1 3
4 2
2 5
6 5
5 7
1 7
2 6
```

### 样例输出

```
8
```

### 数据规模

$n,k \leq 100000; 1 \leq a,b \leq n$

对于 $40\%$ 的数据，$n,k \leq 5000$

对于另外 $20\%$的数据， 树退化成链。

# mid(1s/256MB)

本题是《生意人的生意经之中庸定价》的课后习题，某同学不会做，他找到了你。

一个金字塔，共有 $n$ 层，金字塔的最底层是一个 $1$ 到 $2n − 1$ 的排列。 除最底层以外，金字塔的每个格的数是下一层中它左下方、 正下方、右下方这三个数的中位数。

已知塔底排列，求塔顶的数。

### 输入格式

一行一个数 $n$，如题面所述。

接下来一行共 $2n-1$ 个数，表示填在金字塔底部的数。

### 输出格式

一行一个数代表塔顶的数。

### 样例输入

```
4
1 6 3 7 4 5 2
```

```
2
1 2 3
```

### 样例输出

```
4
```

```
2
```

### 数据规模

$n \leq 500000$

对于 $20\%$ 的数据，$n \leq 100$

# slab(2s/256MB)

本题是《生意人的生意经之优化时间》的课后习题，某同学不会做，他找到了你。

给你 $n$ 个时间区间， 要求你在其中选出 $k$ 个区间，使其并起来的总长度最大。

注意，给出的区间如果是 $[3,7]$，长度就是 $7 - 3 = 4$，这意味着输入的数代表两个长度不计的端点。

### 输入格式

一行两个数，$n$ 和 $k$，如题面所述。

接下来输入 $n$ 行，每行两个数 $l$ 和 $r$，代表区间的左右端点。

### 输出格式

一行一个数，代表最大的总长度。

### 样例输入

```
3 2
1 8
7 15
2 14
```

### 样例输出

```
14
```

### 数据规模

$n \leq 100000, k \leq 100, l \leq r \leq 10^{9}$

对于 $40\%$ 的数据，$n \leq 1000$

对于 $70\%$ 的数据，$n * k \leq 5000000$

数据存在一定梯度。